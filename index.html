<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Basil by evancummings</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Basil</h1>
        <h2></h2>
        <a href="https://github.com/evancummings/basil" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>basil</h1>

<p>Batched server-side form validation for ASP.NET WebForms with two lines of code and a whole lot of form decoration.</p>

<h2>What is basil?</h2>

<p>Basil is an herb.</p>

<p>It is also a server-side validation implementation that utilizes attributes from HTML markup to drive validating large forms painlessly - because who wants 40 required field validators?</p>

<p>Fields are validated individually and highlighted visually with optional support for Bootstrap tooltips.</p>

<h2>How it works</h2>

<p>Basil is designed to validate large amounts of form fields en mass with no dependence on any .NET validator controls. This is achieved by heavily utilizing data-* attributes that are used to decorate .NET input components. This approach is quite popular among Javascript based validation libraries. Basil brings this behavior to the server-side.</p>

<h2>A simple example</h2>

<p>The functionality of basil relies on two conditions on the front-end ASPX markup:</p>

<ol>
<li>The fields to be validated are wrapped in a <code>Panel</code> control</li>
<li>The individual input elements are decorated with a <code>data-required="true|false"</code> tag and/or a <code>data-type</code> tag (more on this to come).</li>
</ol><p>Let's consider this markup</p>

<div class="highlight"><pre>    <span class="nt">&lt;asp:Panel</span> <span class="na">ID=</span><span class="s">"pnlForm"</span> <span class="na">runat=</span><span class="s">"server"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"span12"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;asp:TextBox</span> <span class="na">ID=</span><span class="s">"txtName"</span> <span class="na">runat=</span><span class="s">"server"</span> <span class="na">placeholder=</span><span class="s">"Name"</span> <span class="na">rel=</span><span class="s">"tooltip"</span> <span class="na">data-required=</span><span class="s">"true"</span><span class="nt">&gt;&lt;/asp:TextBox&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"span12"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;asp:TextBox</span> <span class="na">ID=</span><span class="s">"txtEmail"</span> <span class="na">runat=</span><span class="s">"server"</span> <span class="na">placeholder=</span><span class="s">"Email"</span> <span class="na">rel=</span><span class="s">"tooltip"</span> <span class="na">data-required=</span><span class="s">"true"</span> <span class="na">data-type=</span><span class="s">"email"</span><span class="nt">&gt;&lt;/asp:TextBox&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>        
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"span12"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;asp:Button</span> <span class="na">ID=</span><span class="s">"btnSubmit"</span> <span class="na">runat=</span><span class="s">"server"</span> <span class="na">Text=</span><span class="s">"Submit"</span> <span class="na">rel=</span><span class="s">"tooltip"</span> <span class="na">CssClass=</span><span class="s">"btn"</span> <span class="na">OnClick=</span><span class="s">"btnSubmit_Click"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span> 
    <span class="nt">&lt;/asp:Panel&gt;</span>
</pre></div>

<p>Points to note:</p>

<ol>
<li>The fields to be validated are wrapped in a <code>Panel</code> named <code>myForm</code>
</li>
<li>The <code>Textbox</code> <code>txtName</code> has a <code>data-required="true"</code> to force user input</li>
<li>The <code>Textbox</code> <code>txtEmail</code> has both a <code>data-required="true"</code> and a <code>data-type="email"</code>, forcing user input as well as enforcing proper email formatting</li>
</ol><p>That's all there is to the front-end, let's now look at how this works when <code>btnSubmit</code> is clicked.</p>

<p>The server-side click event is as follows:</p>

<div class="highlight"><pre><span class="k">protected</span> <span class="k">void</span> <span class="nf">btnSubmit_Click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Basil</span><span class="p">.</span><span class="n">BasilValidator</span> <span class="n">validator</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Basil</span><span class="p">.</span><span class="n">BasilValidator</span><span class="p">();</span>
    <span class="n">validator</span><span class="p">.</span><span class="n">Validate</span><span class="p">(</span><span class="n">pnlForm</span><span class="p">);</span>            
<span class="p">}</span>
</pre></div>

<p>Two lines to make the magic happen:</p>

<ol>
<li>We instantiate a new instance of the <code>BasilValidator</code> class, and</li>
<li>We call the <code>Validate</code> method, providing the <code>Panel</code> containing the input elements to validate</li>
</ol><p>A boolean value is produced from this call, which you can then incorporate into your own logic flow within your applicaion.</p>

<h2>Bootstrap tooltip integration</h2>

<p>Validation error messages are stored in the title attribute of the HTML element. Several popular tooltip libraries, including Twitter Bootstrap, utilize the title attribute as the textual source of hover effect tooltips. This allows for drop-in support for any tooltip library following this method. For example, and demonstrated above, adding the <code>rel="tooltip"</code> will tell Bootstrap to automatically interpet the tagged element as a tooltip.</p>

<h2>Customization</h2>

<p>Basil supports various configuration options for the validator output. All configuration options are housed within the <code>Settings</code> property within the <code>BasilValidator</code> object. All values come with a 'I thought this best' at the time default, which can be overriden as needed.</p>

<h3>Color</h3>

<p>Basil operates under two states - a control is either valid or invalid.</p>

<p>The following controls may be modified individually:</p>

<ul>
<li><code>BasilValidator.Settings.Textbox</code></li>
<li><code>BasilValidator.Settings.DropDownList</code></li>
<li><code>BasilValidator.Settings.RadioButtonList</code></li>
<li><code>BasilValidator.Settings.Checkbox</code></li>
</ul><p>Each of the preceeding controls may have the following attributes modified:</p>

<table>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
<tr>
<td><code>ForeColor</code></td>
<td>Corresponds to the Text Color of the input control</td>
</tr>
<tr>
<td><code>BackColor</code></td>
<td>Corresponds to the Back Color of the input control</td>
</tr>
<tr>
<td><code>BorderColor</code></td>
<td>Corresponds to the Border Color of the input control</td>
</tr>
</table><p>Fore, Back, and Border colors are not necessarily implemented on each .NET control - basil will apply styling that is appropriate to the control in context.</p>

<p>The color is an HTML style hex color, and should be preceeded with the pound symbol.</p>

<p>Below is an example of configuring a Textbox's styling:</p>

<div class="highlight"><pre><span class="n">Basil</span><span class="p">.</span><span class="n">BasilValidator</span> <span class="n">validator</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Basil</span><span class="p">.</span><span class="n">BasilValidator</span><span class="p">();</span>

<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">Textbox</span><span class="p">.</span><span class="n">InvalidColors</span><span class="p">.</span><span class="n">BackColor</span> <span class="p">=</span> <span class="s">"#000000"</span><span class="p">;</span>
<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">Textbox</span><span class="p">.</span><span class="n">InvalidColors</span><span class="p">.</span><span class="n">ForeColor</span> <span class="p">=</span> <span class="s">"#FFFFFF"</span><span class="p">;</span>
<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">Textbox</span><span class="p">.</span><span class="n">InvalidColors</span><span class="p">.</span><span class="n">BorderColor</span> <span class="p">=</span> <span class="s">"#333333"</span><span class="p">;</span>

<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">Textbox</span><span class="p">.</span><span class="n">ValidColors</span><span class="p">.</span><span class="n">BackColor</span> <span class="p">=</span> <span class="s">"#FFFFFF"</span><span class="p">;</span>
<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">Textbox</span><span class="p">.</span><span class="n">ValidColors</span><span class="p">.</span><span class="n">ForeColor</span> <span class="p">=</span> <span class="s">"#000000"</span><span class="p">;</span>
<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">Textbox</span><span class="p">.</span><span class="n">ValidColors</span><span class="p">.</span><span class="n">BorderColor</span> <span class="p">=</span> <span class="s">"#0F0F0F"</span><span class="p">;</span>
</pre></div>

<h3>Error Messages</h3>

<p>The error message that is applied to the element via the <code>title</code> tag is also fully configurable.</p>

<p>The following customizations are available:</p>

<table>
<tr>
<th>Setting</th>
<th>Description</th>
<th>Example</th>
</tr>
<tr>
<td>PhoneValidation.Message</td>
<td>Phone number fails validation</td>
<td><code>BasilValidator.Settings.PhoneValidation.Message = "My message here";</code></td>
</tr>
<tr>
<td>EmailValidation.Message</td>
<td>Email fails validation</td>
<td><code>BasilValidator.Settings.EmailValidation.Message = "My message here";</code></td>
</tr>
<tr>
<td>NumericEntryValidation.Message</td>
<td>Input is not numeric</td>
<td><code>BasilValidator.Settings.NumericEntryValidation.Message = "My message here";</code></td>
</tr>
<tr>
<td>RequiredFieldValidation.Message</td>
<td>Input field is empty</td>
<td><code>BasilValidator.Settings.RequiredFieldValidation.Message = "My message here";</code></td>
</tr>
<tr>
<td>SocialSecurityNumberValidation.Message</td>
<td>Input field is not a properly formatted SSN</td>
<td><code>BasilValidator.Settings.SocialSecurityNumberValidation.Message = "My message here";</code></td>
</tr>
<tr>
<td>ZipValidation.Message</td>
<td>ZIP code is improperly formatted</td>
<td><code>BasilValidator.Settings.ZipValidation.Message = "My message here";</code></td>
</tr>
</table><p>Code example:</p>

<div class="highlight"><pre><span class="n">Basil</span><span class="p">.</span><span class="n">BasilValidator</span> <span class="n">validator</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Basil</span><span class="p">.</span><span class="n">BasilValidator</span><span class="p">();</span>

<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">PhoneValidation</span><span class="p">.</span><span class="n">Message</span> <span class="p">=</span> <span class="s">"My message here"</span><span class="p">;</span>
<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">EmailValidation</span><span class="p">.</span><span class="n">Message</span> <span class="p">=</span> <span class="s">"My message here"</span><span class="p">;</span>
<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">NumericEntryValidation</span><span class="p">.</span><span class="n">Message</span> <span class="p">=</span> <span class="s">"My message here"</span><span class="p">;</span>
<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">RequiredFieldValidation</span><span class="p">.</span><span class="n">Message</span> <span class="p">=</span> <span class="s">"My message here"</span><span class="p">;</span>
<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">SocialSecurityNumberValidation</span><span class="p">.</span><span class="n">Message</span> <span class="p">=</span> <span class="s">"My message here"</span><span class="p">;</span>
<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">ZipValidation</span><span class="p">.</span><span class="n">Message</span> <span class="p">=</span> <span class="s">"My message here"</span><span class="p">;</span>
</pre></div>

<h3>Regular Expressions</h3>

<p>Finally, and perhaps most powerful, the validation expressions can be modified for any data type that utilizes a regular expression. This allows for fine-tuning of validation logic for your own needs.</p>

<p>Regular Expressions are not supported in the <code>RequiredFieldValidation</code> or <code>NumericEntryValidation</code> types.</p>

<p>The following regular expression types may be customized:</p>

<table>
<tr>
<th>Setting</th>
<th>Default Regex</th>
<th>Example</th>
</tr>
<tr>
<td>EmailValidation.Regex</td>
<td><code>[a-zA-Z0-9_\\-\\.]+@[a-zA-Z0-9_\\-\\.]+\\.[a-zA-Z]{2,5}</code></td>
<td><code>BaseValidator.Settings.EmailValidation.Regex = "My regex here";</code></td>
</tr>
<tr>
<td>PhoneValidation.Regex</td>
<td><code>\\(\\d{3}\\)\\s\\d{3}-\\d{4}$</code></td>
<td><code>BaseValidator.Settings.PhoneValidation.Regex = "My regex here";</code></td>
</tr>
<tr>
<td>SocialSecurityNumberValidation.Regex</td>
<td><code>^\\d{3}\\-?\\d{2}\\-?\\d{4}$</code></td>
<td><code>BaseValidator.Settings.SocialSecurityNumberValidation.Regex = "My regex here";</code></td>
</tr>
<tr>
<td>ZipValidation.Regex</td>
<td>Input field is empty</td>
<td><code>BaseValidator.Settings.ZipValidation.Regex = "My regex here";</code></td>
</tr>
</table><p>Example code:</p>

<div class="highlight"><pre><span class="n">Basil</span><span class="p">.</span><span class="n">BasilValidator</span> <span class="n">validator</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Basil</span><span class="p">.</span><span class="n">BasilValidator</span><span class="p">();</span>

<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">PhoneValidation</span><span class="p">.</span><span class="n">Regex</span> <span class="p">=</span> <span class="s">"My regex here"</span><span class="p">;</span>
<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">EmailValidation</span><span class="p">.</span><span class="n">Regex</span> <span class="p">=</span> <span class="s">"My regex here"</span><span class="p">;</span>            
<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">SocialSecurityNumberValidation</span><span class="p">.</span><span class="n">Regex</span> <span class="p">=</span> <span class="s">"My regex here"</span><span class="p">;</span>
<span class="n">validator</span><span class="p">.</span><span class="n">Settings</span><span class="p">.</span><span class="n">ZipValidation</span><span class="p">.</span><span class="n">Regex</span> <span class="p">=</span> <span class="s">"My regex here"</span><span class="p">;</span>
</pre></div>

<h2>Supported .NET controls</h2>

<p>Basil supports the following .NET components:</p>

<ul>
<li><code>Textbox</code></li>
<li><code>Checkbox</code></li>
<li><code>DropDownList</code></li>
<li><code>RadioButtonList</code></li>
</ul><h2>Supported data-* attributes</h2>

<p>Basil supports the following data-* attributes:</p>

<ul>
<li>
<code>data-required (true|false)</code>

<ul>
<li> Instructs the validator whether to enforce non-empty user input</li>
</ul>
</li>
<li> <code>data-type (phone|zip|email|ssn|number)</code>

<ul>
<li>Insructs the validator to apply additional logic based on the data type of the field</li>
<li>Custom regular expressions may be supplied for phone, zup, email, and SSN types, see 'Cusomization' for more details</li>
</ul>
</li>
</ul>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/evancummings/basil/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/evancummings/basil/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/evancummings/basil"></a> is maintained by <a href="https://github.com/evancummings">evancummings</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>